## 取り組んだ課題一覧
- DjangoでECサイトを作る（チェックアウト機能の在庫処理修正）
- TypeScriptの基本

## わかったこと
- トランザクションは処理をまとめて成功・ロールバックを保証する仕組みであり、行ロックが自動でかかるわけではない
- 同時購入による在庫競合を防ぐには `select_for_update` を使って明示的に行ロックをかける必要がある
- `select_for_update().in_bulk()` を使うことで更新対象の商品をまとめて取得し、ロック済みの Product だけを参照して処理できる
- 在庫チェック、在庫減算、注文作成は同一トランザクション内で行うのが安全

## 感じたこと、メモ
- チェックアウト機能自体はほぼ完成していたが、注文確定時に在庫が減算されていない問題が見つかったので修正した
- トランザクション＝全部ロック という誤解をしていた

## 次やること
- DjangoでECサイトを作る（在庫切れ表示・在庫数に応じたUI周りの修正）

## 学習時間
- 今日：2h00m
- 今週：4h45m（土-）
- 今月：29h00m
- 累計：872h30m