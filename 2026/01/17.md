## 取り組んだ課題一覧
- DjangoでECサイトを作る（OrderCreateFormの修正）

## わかったこと
- 注文作成のようなDB更新は `transaction.atomic()` の中にまとめ、session・messages・redirect は外に出すのが安全
- 注文完了ページは GET 専用にし、購入内容表示のために `order.id` を session に保持する設計が自然
- `@property` を使うことで、計算結果を「値」として扱えテンプレート側の記述がすっきりする
- `bulk_create()` を使えば注文明細（OrderItem）を一括INSERTできパフォーマンスとコードの見通しが良くなる
- `transaction.on_commit()` には ORMオブジェクトではなくidなどのプリミティブな値だけ渡すのが安全

## 感じたこと、メモ
- 購入処理から注文完了画面の遷移まで完成した
- 注文確定まわりはどこまでがDBの責務かの意識が大事  

## 次やること
- DjangoでECサイトを作る（注文完了メール送信処理の追加）

## 学習時間
- 今日：6h00m
- 今週：6h00m（土-）
- 今月：13h30m
- 累計：857h00m