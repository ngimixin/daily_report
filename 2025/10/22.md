## 取り組んだ課題一覧
- オブジェクト指向 Python 自販機問題（実装・リファクタリング）
- 達人に学ぶDB設計徹底指南書 第2版（1〜69頁）
## わかったこと
### python
- 依存性注入（DI）の基本：依存は利用側で `new` せず、Composition Root（`main.py` の `create_app()`）で組み立てて渡す。
- `MainMenu(vm, suica)`／`VendingMachine(repo)` に変更し、内部生成を排除して結合度を低減。テストで差し替えやすくなった。
- `drink_repository` は `inventory` を外部注入し、内部参照は `__inventory` に統一。`get_all()` は浅いコピーで防御的返却。
- エントリポイントはクラス不要。`if __name__ == "__main__": create_app().display()` でモジュールが入口になる。
- 入力バリデータをクラスからモジュール関数へ再設計。`get_valid_int`/`get_valid_yes_no` と `CancelledInput` により、入力ループを例外で安全に中断可能。
- キャンセル設計：`allow_cancel=True` のときのみ `""`/`"q"` を受理→`CancelledInput`。メインメニューの番号入力は `allow_cancel=False` で誤終了を防止。
- `console_style` は状態を持たないためクラスを廃止し、定数＋関数 `print_line()` で簡潔化。
- 命名・整合性：`display_main_menu()` を `display()` に統一し、呼び出し側と齟齬をなくした。
- 「モジュール関数優先、必要になったらクラスへ昇格」の方針（Factory含む）。設定・ライフサイクル・多態が出たらクラス化。
- 例外はエラーだけでなく“意図的な中断の合図”にも使える（`CancelledInput` の位置付け）。
### sql
- DB概要, 論理設計と物理設計
## 感じたこと、メモ
- これまで何でもクラス化して書いていたけれど、今日の学習でモジュール関数だけでも十分に成立する設計があることを理解した。
- 依存性注入について理解が深まった。
- メインメニュークラスの実装も順調に進んでる。
- 「Composition Rootで配線を一本化→UIは使うだけ」に切り分けたら、全体の見通しがかなり良くなった。
## 次やること
- オブジェクト指向 Python 自販機問題（実装・リファクタリング）
## 学習時間
- 今日：5h15m
- 今週：13h30m（土-）
- 今月：43h45m
- 累計：641h15m